(function(t){function e(e){for(var i,s,o=e[0],c=e[1],l=e[2],p=0,u=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&u.push(r[s][0]),r[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(e);while(u.length)u.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},r={app:0},a=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/vlinder/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"05c4":function(t,e,n){t.exports=n.p+"img/vlinder42.ef1f5bb2.png"},"095c":function(t,e,n){t.exports=n.p+"img/vlinder57.7d9cfbc3.png"},"09a4":function(t,e,n){t.exports=n.p+"img/vlinder25.cfb44da4.png"},"0de9":function(t,e,n){t.exports=n.p+"img/vlinder20.133ec98e.png"},2438:function(t,e,n){t.exports=n.p+"img/vlinder36.fda03fcb.png"},"25e8":function(t,e,n){t.exports=n.p+"img/vlinder37.c0d39183.png"},2609:function(t,e,n){t.exports=n.p+"img/vlinder14.ebe4b236.png"},"292a":function(t,e,n){t.exports=n.p+"img/vlinder45.0271139d.png"},2998:function(t,e,n){t.exports=n.p+"img/vlinder19.9429dd4f.png"},"2c14":function(t,e,n){t.exports=n.p+"img/vlinder16.cea7dfd1.png"},"2f78":function(t,e,n){t.exports=n.p+"img/vlinder02.f6d6b895.png"},3170:function(t,e,n){t.exports=n.p+"img/vlinder11.86803c08.png"},3613:function(t,e,n){t.exports=n.p+"img/vlinder38.be0ce963.png"},"36da":function(t,e,n){t.exports=n.p+"img/vlinder28.03a27d3f.png"},3745:function(t,e,n){t.exports=n.p+"img/vlinder13.f462d626.png"},"43ae":function(t,e,n){t.exports=n.p+"img/vlinder58.ea8a7689.png"},4815:function(t,e,n){t.exports=n.p+"img/vlinder51.663a8b93.png"},"49e7":function(t,e,n){t.exports=n.p+"img/vlinder05.c6d6f7e1.png"},"4a4c":function(t,e,n){t.exports=n.p+"img/vlinder43.8dd414a8.png"},"4dae":function(t,e,n){t.exports=n.p+"img/vlinder04.c7ea99e1.png"},"4fb0":function(t,e,n){t.exports=n.p+"img/vlinder32.08a58e59.png"},5003:function(t,e,n){t.exports=n.p+"img/vlinder56.5e66671b.png"},"58c6":function(t,e,n){t.exports=n.p+"img/vlinder55.f3bc9cf6.png"},"5a80":function(t,e,n){t.exports=n.p+"img/vlinder46.6f843c6a.png"},"62a6":function(t,e,n){t.exports=n.p+"img/vlinder07.4cb948f0.png"},"64fc":function(t,e,n){t.exports=n.p+"img/vlinder33.c3278a2d.png"},"69cf":function(t,e,n){t.exports=n.p+"img/vlinder49.a307b218.png"},"6d87":function(t,e,n){t.exports=n.p+"img/vlinder30.c4fa03f4.png"},"6f2b":function(t,e,n){t.exports=n.p+"img/vlinder03.b63bee76.png"},"715a":function(t,e,n){t.exports=n.p+"img/vlinder15.a9444cff.png"},"724d":function(t,e,n){t.exports=n.p+"img/vlinder39.72ec978c.png"},7727:function(t,e,n){t.exports=n.p+"img/vlinder31.46101caf.png"},"7eed":function(t,e,n){t.exports=n.p+"img/vlinder53.2eb71722.png"},"87f5":function(t,e,n){t.exports=n.p+"img/vlinder47.a4764c6e.png"},"8bce":function(t,e,n){t.exports=n.p+"img/vlinder08.408add3e.png"},9382:function(t,e,n){t.exports=n.p+"img/vlinder24.2cc6e940.png"},9694:function(t,e,n){t.exports=n.p+"img/vlinder06.d596b6bc.png"},9698:function(t,e,n){t.exports=n.p+"img/vlinder40.47ec2110.png"},9728:function(t,e,n){t.exports=n.p+"img/vlinder17.36a63265.png"},"9fbe":function(t,e,n){t.exports=n.p+"img/vlinder23.b53db92f.png"},a566:function(t,e,n){t.exports=n.p+"img/vlinder22.91cd94a7.png"},a7b8:function(t,e,n){t.exports=n.p+"img/vlinder34.fe1f72be.png"},a7c4:function(t,e,n){t.exports=n.p+"img/vlinder52.ea1b3668.png"},bf34:function(t,e,n){t.exports=n.p+"img/vlinder09.00c09110.png"},c5d0:function(t,e,n){t.exports=n.p+"img/vlinder41.cf75c2b5.png"},ca57:function(t,e,n){t.exports=n.p+"img/vlinder01.40af581e.png"},cbe8:function(t,e,n){t.exports=n.p+"img/vlinder26.c1dd5f7a.png"},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary",dark:"",dense:""}},[n("v-toolbar-title",[t._v("VLINDER")]),n("v-spacer"),n("v-btn",{attrs:{href:"http://vlinder.ugent.be",target:"_blank",text:""}},[n("span",{staticClass:"mr-2"},[t._v("VLINDER website")]),n("v-icon",[t._v("mdi-open-in-new")])],1)],1),n("v-content",[n("v-container",[n("v-row",[n("v-col",{attrs:{sm:"12",md:"10","offset-md":"1"}},[n("StationsMap",{attrs:{dataLoaded:t.initialDataLoaded}})],1)],1),n("v-row",t._l(t.selectedStations,(function(t){return n("v-col",{key:t.id,attrs:{sm:"6",md:"4",lg:"3"}},[n("StationCard",{attrs:{station:t}})],1)})),1),n("v-row",[n("v-col",{attrs:{sm:"12",md:"6",lg:"4"}},[n("TempGraphCard")],1)],1)],1)],1)],1)},a=[],s=(n("d3b7"),n("3ca3"),n("ddb0"),n("d4ec")),o=n("bee2"),c=n("262e"),l=n("2caf"),d=n("9ab4"),p=n("60a3"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center"},[n("v-toolbar",{attrs:{flat:""}},[n("v-toolbar-title",[t._v(t._s(t.weatherProperties[t.selectedProperty].title))]),n("v-spacer"),n("v-btn-toggle",{attrs:{mandatory:""},model:{value:t.selectedProperty,callback:function(e){t.selectedProperty=e},expression:"selectedProperty"}},t._l(t.weatherProperties,(function(e){return n("v-tooltip",{key:e.property,attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(i){var r=i.on;return[n("v-btn",t._g({attrs:{value:e.property}},r),[n("v-icon",[t._v(t._s(e.icon))])],1)]}}],null,!0)},[n("span",[t._v(t._s(e.name))])])})),1)],1),n("div",{attrs:{id:t.mapId}},[t._m(0)],1)],1)},m=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-img",{attrs:{"aspect-ratio":"2.1428571429",src:"","lazy-src":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAASCAYAAADYFMcrAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAhGVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAh2kABAAAAAEAAABaAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJ6ADAAQAAAABAAAAEgAAAACkz5hdAAAACXBIWXMAAAsTAAALEwEAmpwYAAACaWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjE5MjY8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+ODk4PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CrtQuAsAAASWSURBVEgNlVZpc+I4FGzLF0eAyV2pqdR+mP//s3YzmUAg3Ma2vN3PiDiwtVMjMJb0nvr1OyQR1XXV4EuLOiP1z8Qd6X91m6aBcw56h/7hcEAURUiShO92lWRfW9duK0mci7/qXIwuF12onE1st1ssFgs8Pj4awZeXF9zd3SHLMnx8fCBNUwwGg7NVl8PkcoqxOnolb7stzGvuXKY5773NV1UFERSpuq5tbr/fo+b87P0dDw8PUjc7wgm455gX5KQYlJSOzWZjRm9vb0/zhtz5CWuWy6VFpt/vI0szhHQKb71aYUO8HlMr4sPh8IQX7HUgrRsR+JT8YOR9tkBx2KMsDyiKAr1eD8/Pz9judlitlpiMxsh7fYJ/wsmJ11+v8E2FJMoRuU+ZeiJQMoqOayJ+VH9Ke5Kk2O93Jpcd40C5fUWO7eSFjPzz94uBC0BN8l4/R1XV2DE9MRwmN2Pc3dwb+flijuV6RVIx+MWmnGGU3hOz3Ri+8cQAYm4UEdNYzVFeo2S6PYaDKzw9Pdl8+DlFTrUxm82wXq9ZsImBqYZCK2vtuJgGSCDyqJoaedKDr73VFVyNOMpM/eD3lPXReDrNmaIuiRdxLmb0CqRxGyHuZxTVAf2UY+qmWbtRBv0BM8Pos3gbEfr1+gYXR7aTFCk9n01GnHksQLJDpJdM86ujw5MsSCCJ6RiFta/41IwmCXMsfYsg18dOzh/xj/Ny+kDiCqqPPX789QPJ9G2G5eoDWU4QLlAEZSwUqUAcwXge2pyLCOwXYkReY/L3ZtTI07AI2VoaTVl7ZbPjhgLymDVKbTkUiIW3s3qsuNoxqjEG3waWITf5NkbMCQEeSMAicwxZS5ChrzdGOIBF8Y4pVMW3tepYhdJtjkQ1X1YbG2sD5EyjSkTrG6u/Nmotvhgr4jEyRj3igvsJ65Ufpx2iRxFTSlTEaiIpMI3bOqMyo8XYMEXfUXrVF1PJVjZbVHQMDXUVWdrOk4kRjhk9jYWoJkLhBgnnotU2xXrbLSKP2BLPNOjQ1CLzvkUy5lKwFDcq4NZzJQauYqw+d7Ic0CMsr42BzFItPlaX7Bg+R8Fp3UzSVwBkQ02647FKha5oXqASirXOqJo7reYODAvNK1WzHI8Ihi0Xfq2bBD2kNKaoISoRJ23Ri5BqUFmxlB4jrX7lC7NrzkuPOrreRqORkTNnqCizmM/fMZ3yfKJwOLzi+bXiIcxzbVdS2nrnGO4Dt34v61Om+TayLYR0VHs62+Rc+ygSukd11252S2Q8fhQjz/Ot8YyYWecMCerWuL6+trW6fyOCNBIIbMpz7vbmxjaIDMtrT48Wiw9cXV3Zab7iFTWejE0/XFeqE3mt+1Og0tUm0xMueJVOyEhBvQF1ptMpRiSkm0dBka6uvPl8bv3TISwyf9rkkO7JPM+NlIADqS6WIqsA/K519azPq6r5+fMNOS9rl8aMyohvliYPwjSpMWDke9k9D1amjDlQEchQF+jcqGSh/Y7UOU53nOjfQ56TmJ0xDmuG2BcVsl6EuCx4OPOyzO5ITE07ujUbjHbBQj/IWs3//z3X7Y7/BaU7vyOO6iO0AAAAAElFTkSuQmCC"}})}],g=(n("d81d"),n("3835")),A=(n("96cf"),n("1da1")),f={temp:{property:"temp",name:"Temperatuur",legend:"Temperatuur (°C)",icon:"mdi-thermometer",title:"Temperatuur op dit moment",unit:"°C"},rainVolume:{property:"rainVolume",name:"Neerslag",legend:"Neerslag vandaag (l/m²)",icon:"mdi-weather-rainy",title:"Neerslag sinds middernacht",unit:"l/m²"},windSpeed:{property:"windSpeed",name:"Windsnelheid",legend:"Windsnelheid (km/u)",icon:"mdi-weather-windy",title:"Windsnelheid op dit moment",unit:"km/u"}},h=(n("99af"),n("4de4"),n("caad"),n("a15b"),n("b0c0"),n("4ec9"),n("2532"),n("5698")),v=n("d217");n("ac1f"),n("25f0"),n("5319");function b(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.color,i=e.title,r=e.tickSize,a=void 0===r?6:r,s=e.width,o=void 0===s?320:s,c=e.height,l=void 0===c?44+a:c,d=e.marginTop,p=void 0===d?18:d,u=e.marginRight,m=void 0===u?0:u,g=e.marginBottom,A=void 0===g?16+a:g,f=e.marginLeft,v=void 0===f?0:f,b=e.ticks,x=void 0===b?o/64:b,j=e.tickFormat,S=e.tickValues,k=h["c"]("svg").attr("width",o).attr("height",l).attr("viewBox",[0,0,o,l]).style("overflow","visible").style("display","block"),w=function(t){return t.selectAll(".tick line").attr("y1",p+A-l)};if(n.interpolate){var C=Math.min(n.domain().length,n.range().length);t=n.copy().rangeRound(h["q"](h["j"](v,o-m),C)),k.append("image").attr("x",v).attr("y",p).attr("width",o-v-m).attr("height",l-p-A).attr("preserveAspectRatio","none").attr("xlink:href",y(n.copy().domain(h["q"](h["j"](0,1),C))).toDataURL())}else if(n.interpolator){if(t=Object.assign(n.copy().interpolator(h["k"](v,o-m)),{range:function(){return[v,o-m]}}),k.append("image").attr("x",v).attr("y",p).attr("width",o-v-m).attr("height",l-p-A).attr("preserveAspectRatio","none").attr("xlink:href",y(n.interpolator()).toDataURL()),!t.ticks){if(void 0===S){var I=Math.round(x+1);S=h["r"](I).map((function(t){return h["p"](n.domain(),t/(I-1))}))}"function"!==typeof j&&(j=h["g"](void 0===j?",f":j))}}else if(n.invertExtent){var O=n.thresholds?n.thresholds():n.quantiles?n.quantiles():n.domain(),M=void 0===j?function(t){return t}:"string"===typeof j?h["g"](j):j;t=h["t"]().domain([-1,n.range().length-1]).rangeRound([v,o-m]),k.append("g").selectAll("rect").data(n.range()).join("rect").attr("x",(function(e,n){return t(n-1)})).attr("y",p).attr("width",(function(e,n){return t(n)-t(n-1)})).attr("height",l-p-A).attr("fill",(function(t){return t})),S=h["r"](O.length),j=function(t){return M(O[t],t)}}else t=h["s"]().domain(n.domain()).rangeRound([v,o-m]),k.append("g").selectAll("rect").data(n.domain()).join("rect").attr("x",t).attr("y",p).attr("width",Math.max(0,t.bandwidth()-1)).attr("height",l-p-A).attr("fill",n),w=function(){};return k.append("g").attr("transform","translate(0,".concat(l-A,")")).call(h["a"](t).ticks(x,"string"===typeof j?j:void 0).tickFormat("function"===typeof j?j:void 0).tickSize(a).tickValues(S)).call(w).call((function(t){return t.select(".domain").remove()})).call((function(t){return t.append("text").attr("x",v).attr("y",p+A-l-6).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").text(i)})),k.node()}function y(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n=h["c"]("canvas").attr("width",e).attr("height",1).node(),i=n.getContext("2d"),r=0;r<e;++r)i.fillStyle=t(r/(e-1)),i.fillRect(r,0,1,1);return n}var x=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"temp",i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;Object(s["a"])(this,t),this.selectedProperty="temp",this.loading=!0,this.measurementsMap=new Map,this.margin={top:5,right:10,bottom:50,left:10},this.width=900,this.height=420,this.selector=e,this.setProperty(n),this.selectedStations=i,this.toggleCallback=r}return Object(o["a"])(t,[{key:"prepareData",value:function(){var t=Object(A["a"])(regeneratorRuntime.mark((function t(e,n){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=fetch("https://raw.githubusercontent.com/bmesuere/belgium-topojson/master/belgium.json").then((function(t){return t.json()})),t.next=3,i;case 3:this.belgium=t.sent,this.stations=e,this.measurements=n,this.measurementsMap=new Map(this.measurements.map((function(t){return[t.id,t]}))),this.belgium.objects.municipalities.geometries=this.belgium.objects.municipalities.geometries.filter((function(t){return"03000"!==t.properties.reg_nis}));case 8:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"init",value:function(){var t=Object(A["a"])(regeneratorRuntime.mark((function t(e,n){var i,r,a,s,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.prepareData(e,n);case 2:this.colorScale=h["v"](h["l"]).domain(h["f"](this.measurements,(function(t){return t[o.selectedProperty]}))),i=h["h"]().fitExtent([[this.margin.left,this.margin.top],[this.width-this.margin.right,this.height-this.margin.bottom]],v["a"](this.belgium,this.belgium.objects.municipalities)),r=h["i"]().projection(i),a=h["y"](this.selector).html("").append("svg").attr("viewBox","0, 0, ".concat(this.width,", ").concat(this.height)),s=h["y"]("body").append("div").attr("class","tooltip").style("position","absolute").style("visibility","visible").style("background-color","white").style("padding","6px").style("border","1px solid #dddddd").style("border-radius","3px").style("pointer-events","none").style("font","12px Roboto"),a.append("g").selectAll(".muni").data(v["a"](this.belgium,this.belgium.objects.municipalities).features).join("path").attr("class","muni").attr("fill","#e5e5e5").attr("stroke","white").attr("stroke-linejoin","round").attr("d",r).append("title").text((function(t){var e;return null===t||void 0===t||null===(e=t.properties)||void 0===e?void 0:e.name_nl})),this.stationDots=a.append("g").selectAll(".station").data(this.stations).join("circle").attr("class","station").attr("id",(function(t){return"station-"+t.id})).attr("cx",(function(t){return i([t.coordinates.longitude,t.coordinates.latitude])[0]})).attr("cy",(function(t){return i([t.coordinates.longitude,t.coordinates.latitude])[1]})).style("cursor","pointer").on("mouseenter",(function(t){h["y"]("#station-"+t.id).attr("fill-opacity",1).attr("r",5),o.tooltip(s,t,h["e"].pageX,h["e"].pageY)})).on("mouseleave",(function(t){h["y"]("#station-"+t.id).attr("r",(function(t){return o.stationRadius(t)})).attr("fill-opacity",(function(t){return o.stationFillOpacity(t)})),o.tooltip(s,null)})).on("click",(function(t){o.toggleCallback(t.id)})),this.legend=a.append("g").attr("transform","translate(".concat(this.margin.left,", ").concat(this.height-this.margin.top-40,")")),this.loading=!1,this.update();case 12:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"tooltip",value:function(t,e,n,i){var r,a=this;if(!e)return t.style("visibility","hidden");t.style("visibility","visible").style("top",i+5+"px").style("left",n+15+"px").html("");var s="<b>".concat(e.given_name,"</b> - ").concat(e.city);"Ok"===(null===(r=this.measurementsMap.get(e.id))||void 0===r?void 0:r.status)?s+=["temp","rainVolume","windSpeed"].map((function(t){return"<br>".concat(f[t].name,": <b>").concat(a.measurementsMap.get(e.id)[t]," ").concat(f[t].unit,"</b>")})).join(""):s+="<br>station offline",t.html(s)}},{key:"setProperty",value:function(t){this.selectedProperty=f.hasOwnProperty(t)?t:"temp"}},{key:"updateProperty",value:function(t){this.setProperty(t),this.update()}},{key:"updateSelectedStations",value:function(){this.update()}},{key:"updateMeasurements",value:function(t){this.measurements=t,this.measurementsMap=new Map(this.measurements.map((function(t){return[t.id,t]}))),this.update()}},{key:"update",value:function(){var t=this;this.loading||(this.legend.html(""),this.colorScale.domain(h["f"](this.measurements,(function(e){return e[t.selectedProperty]}))),this.legend.append((function(){return b({color:t.colorScale,title:f[t.selectedProperty].legend,width:200,tickSize:-10,ticks:4})})),this.stationDots.transition().attr("r",(function(e){return t.stationRadius(e)})).attr("stroke",(function(e){return t.isSelectedStation(e)?t.stationColor(e):"none"})).attr("stroke-width",(function(e){return t.isSelectedStation(e)?4:0})).attr("fill-opacity",(function(e){return t.stationFillOpacity(e)})).attr("fill",(function(e){return t.isSelectedStation(e)?"white":t.stationColor(e)})))}},{key:"isSelectedStation",value:function(t){return this.selectedStations.map((function(t){return t.id})).includes(t.id)}},{key:"stationRadius",value:function(t){var e;return"Ok"!==(null===(e=this.measurementsMap.get(t.id))||void 0===e?void 0:e.status)?2:this.isSelectedStation(t)?5:4}},{key:"stationColor",value:function(t){var e=this.measurementsMap.get(t.id);return"Ok"===(null===e||void 0===e?void 0:e.status)?this.colorScale(e[this.selectedProperty]):"black"}},{key:"stationFillOpacity",value:function(t){var e;return"Ok"===(null===(e=this.measurementsMap.get(t.id))||void 0===e?void 0:e.status)?.7:1}}]),t}(),j=function(t){Object(c["a"])(n,t);var e=Object(l["a"])(n);function n(){var t;return Object(s["a"])(this,n),t=e.apply(this,arguments),t.weatherProperties=f,t.selectedProperty="temp",t}return Object(o["a"])(n,[{key:"mounted",value:function(){var t=Object(A["a"])(regeneratorRuntime.mark((function t(){var e,n,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.map=new x("#".concat(this.mapId),this.selectedProperty,this.selectedStations,this.toggleStation),t.next=3,this.dataLoaded;case 3:e=t.sent,n=Object(g["a"])(e,2),i=n[0],r=n[1],this.map.init(i,r);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"toggleStation",value:function(t){this.$store.dispatch("toggleStationById",t)}},{key:"selectedStationsChanged",value:function(){this.map&&this.map.updateSelectedStations()}},{key:"selectedPropertyChanged",value:function(){this.map&&this.map.updateProperty(this.selectedProperty)}},{key:"measurementsChanged",value:function(){this.map&&this.map.updateMeasurements(this.measurements)}},{key:"selectedStations",get:function(){return this.$store.state.selectedStations}},{key:"stations",get:function(){return this.$store.state.stations}},{key:"measurements",get:function(){return this.$store.state.liveMeasurements}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:"stationsMap"})],j.prototype,"mapId",void 0),Object(d["a"])([Object(p["b"])()],j.prototype,"dataLoaded",void 0),Object(d["a"])([Object(p["d"])("selectedStations")],j.prototype,"selectedStationsChanged",null),Object(d["a"])([Object(p["d"])("selectedProperty")],j.prototype,"selectedPropertyChanged",null),Object(d["a"])([Object(p["d"])("measurements")],j.prototype,"measurementsChanged",null),j=Object(d["a"])([p["a"]],j);var S=j,k=S,w=n("2877"),C=n("6544"),I=n.n(C),O=n("8336"),M=n("a609"),R=n("132d"),P=n("adda3"),B=n("2fa4"),V=n("71d9"),E=n("2a7f"),W=n("3a2f"),L=Object(w["a"])(k,u,m,!1,null,null,null),z=L.exports;I()(L,{VBtn:O["a"],VBtnToggle:M["a"],VIcon:R["a"],VImg:P["a"],VSpacer:B["a"],VToolbar:V["a"],VToolbarTitle:E["a"],VTooltip:W["a"]});var Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("v-btn",{staticClass:"mr-n2 mt-1",attrs:{fab:"",absolute:"",right:"","x-small":"",elevation:"3"},on:{click:t.removeFromList}},[i("v-icon",[t._v("mdi-close")])],1),i("v-img",{attrs:{"aspect-ratio":"2.3137254902",src:n("f799")("./"+t.station.name+".png"),"lazy-src":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAICAYAAAD0g6+qAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAh2kABAAAAAEAAABaAAAAAAAAAEgAAAABAAAASAAAAAEAAqACAAQAAAABAAAAEqADAAQAAAABAAAACAAAAAAMC9jHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAABgklEQVQoFR2R2Y7UMBREjx0nzjJJjxCDhHji/78FCfEDPCEkpO6h6cTZvFAzD5bspFxV99h8//GtWGOwNER2rK0Y+wlM4npbuIw93reENZBTxlhpbcaaLI1lWWZymXG/7j8xsvh8+QrJE0vmkWZSzpR0SDxgKwuF95Dz3NnjH6wLdM0XfWt0/wlbZLLFjZgTpRQZJNZtw1WVDBxhCdyuN7ZjxTjoupZUdmkiKdZ0bc1xPHAmerV5Yewm5nnDN56UkuIrrUQIC87V1L5i3WdqWnr/iZIPGuc500rdgHuZJrkroX6lbZ85j/g+SgwBs2+006g0jWagsk5Y1NQ0nPGVI50azbMfATcMhb/rg9//Dj62nlozJ0GVAquzlclxRqWKhXkzyRrtzhKugv8sVh90VqOcT6b2QlHNwT+RYxKPXawilaDs9ztd32kvfvEQz6g2pxiqnWsVEvRPjYrZqesR4kjfdkSJYop60pNGw0ddfFtZ+02PUDdWeqOgQYwG+rqXsec/ZLXPWAALVrMAAAAASUVORK5CYII="}}),i("v-list-item",{attrs:{"three-line":""}},[i("v-list-item-content",[i("div",{staticClass:"overline mb-2"},[t._v(t._s(t.station.name))]),i("v-list-item-title",{staticClass:"mb-1"},[t._v(t._s(t.station.given_name))]),i("v-list-item-subtitle",[t._v(t._s(t.station.city))])],1)],1),i("v-list",{attrs:{dense:"",subheader:""}},t._l(t.weatherProperties,(function(e){return i("v-list-item",{key:e.property},[i("v-list-item-subtitle",[i("v-icon",{staticClass:"pr-1"},[t._v(t._s(e.icon))]),t._v(" "+t._s(e.name))],1),i("v-list-item-title",{staticClass:"text-right"},[t._v(t._s(t.measurements[e.property])+" "+t._s(e.unit))])],1)})),1)],1)},D=[],Z=(n("7db0"),function(t){Object(c["a"])(n,t);var e=Object(l["a"])(n);function n(){var t;return Object(s["a"])(this,n),t=e.apply(this,arguments),t.weatherProperties=f,t}return Object(o["a"])(n,[{key:"removeFromList",value:function(){this.$store.dispatch("deselectStationById",this.station.id)}},{key:"measurements",get:function(){var t=this;return this.$store.state.liveMeasurements.find((function(e){return e.id===t.station.id}))||{}}}]),n}(p["c"]));Object(d["a"])([Object(p["b"])()],Z.prototype,"station",void 0),Z=Object(d["a"])([p["a"]],Z);var G=Z,T=G,N=n("b0af"),X=n("8860"),J=n("da13"),F=n("5d23"),U=Object(w["a"])(T,Y,D,!1,null,null,null),Q=U.exports;I()(U,{VBtn:O["a"],VCard:N["a"],VIcon:R["a"],VImg:P["a"],VList:X["a"],VListItem:J["a"],VListItemContent:F["a"],VListItemSubtitle:F["b"],VListItemTitle:F["c"]});var _=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"mb-1"},[t._v("Temperatuur")]),n("v-list-item-subtitle",[t._v("°C")])],1)],1),n("div",{attrs:{id:t.tempGraphId}})],1)},q=[],H=h["A"](".%L"),K=h["A"](":%S"),$=h["A"]("%H:%M"),tt=h["A"]("%H:%M"),et=h["A"]("%a %d"),nt=h["A"]("%b %d"),it=h["A"]("%B"),rt=h["A"]("%Y");function at(t){return(h["F"](t)<t?H:h["D"](t)<t?K:h["C"](t)<t?$:h["z"](t)<t?tt:h["E"](t)<t?h["G"](t)<t?et:nt:h["H"](t)<t?it:rt)(t)}var st=function(){function t(e,n){Object(s["a"])(this,t),this.margin={top:5,right:30,bottom:30,left:40},this.width=400,this.height=250,this.selector=e,this.selectedStations=n,this.setLocale()}return Object(o["a"])(t,[{key:"init",value:function(){var t=this;this.svg=h["y"](this.selector).html("").append("svg").attr("viewBox","0, 0, ".concat(this.width,", ").concat(this.height)),this.x=h["w"]().range([this.margin.left,this.width-this.margin.right]),this.y=h["t"]().range([this.height-this.margin.bottom,this.margin.top]),this.color=h["u"](h["x"]),this.line=h["m"]().curve(h["d"]).defined((function(t){return!isNaN(t)})).x((function(e,n){return t.x(Date.parse(t.measurements.timestamps[n]))})).y((function(e){return t.y(e)})),this.lines=this.svg.append("g").attr("fill","none").attr("stroke-width",1.5).attr("stroke-linejoin","round"),this.xAxis=this.svg.append("g").attr("transform","translate(0,".concat(this.height-this.margin.bottom,")")).call(h["a"](this.x).ticks(this.width/80).tickFormat(at)),this.yAxis=this.svg.append("g").attr("transform","translate(".concat(this.margin.left,",0)")).call(h["b"](this.y))}},{key:"updateData",value:function(t){this.measurements=t,this.update()}},{key:"update",value:function(){var t=this;this.svg&&0!==this.measurements.timestamps.length&&(this.x.domain(h["f"](this.measurements.timestamps,(function(t){return Date.parse(t)}))),this.y.domain([h["o"](this.measurements.series,(function(t){return h["o"](t.values)})),h["n"](this.measurements.series,(function(t){return h["n"](t.values)}))]).nice(),this.xAxis.transition().call(h["a"](this.x).ticks(this.width/80).tickFormat(at)),this.yAxis.transition().call(h["b"](this.y).ticks(5)),this.lines.selectAll("path").data(this.measurements.series,(function(t){return t.stationId})).join("path").transition().attr("d",(function(e){return t.line(e.values)})).attr("stroke",(function(e){return t.color(e.stationId)})))}},{key:"setLocale",value:function(){h["B"]({dateTime:"%a %e %B %Y %T",date:"%d-%m-%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],shortDays:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],shortMonths:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"]})}}]),t}(),ot=function(t){Object(c["a"])(n,t);var e=Object(l["a"])(n);function n(){return Object(s["a"])(this,n),e.apply(this,arguments)}return Object(o["a"])(n,[{key:"mounted",value:function(){this.graph=new st("#".concat(this.tempGraphId),this.selectedStations),this.graph.init()}},{key:"measurementsChanged",value:function(){this.graph&&this.graph.updateData(this.$store.getters.tempData)}},{key:"measurements",get:function(){return this.$store.state.historicMeasurements}},{key:"selectedStations",get:function(){return this.$store.state.selectedStations}}]),n}(p["c"]);Object(d["a"])([Object(p["b"])({default:"tempGraph"})],ot.prototype,"tempGraphId",void 0),Object(d["a"])([Object(p["d"])("measurements")],ot.prototype,"measurementsChanged",null),ot=Object(d["a"])([p["a"]],ot);var ct=ot,lt=ct,dt=Object(w["a"])(lt,_,q,!1,null,null,null),pt=dt.exports;I()(dt,{VCard:N["a"],VListItem:J["a"],VListItemContent:F["a"],VListItemSubtitle:F["b"],VListItemTitle:F["c"]});var ut=function(t){Object(c["a"])(n,t);var e=Object(l["a"])(n);function n(){var t;return Object(s["a"])(this,n),t=e.apply(this,arguments),t.initialDataLoaded=new Promise((function(e){t.resolveDataLoaded=e})),t}return Object(o["a"])(n,[{key:"created",value:function(){var t=this,e=this.$store.dispatch("fetchStations");e.then((function(){t.$store.dispatch("selectStationById","zZ6ZeSg11dJ5zp5GrNwNck9A"),t.$store.dispatch("selectStationById","Do5lLMfezIdmUCzzsE0IwIbE"),t.$store.dispatch("selectStationById","XeIIA97QzN5xxk6AvdzAPquY")}));var n=this.$store.dispatch("fetchMeasurements");Promise.all([e,n]).then((function(e){t.resolveDataLoaded(e)})),setInterval((function(){return t.$store.dispatch("fetchMeasurements")}),6e4)}},{key:"selectedPropertyChanged",value:function(){this.$store.dispatch("fetchHistoricMeasurements")}},{key:"selectedStations",get:function(){return this.$store.state.selectedStations}}]),n}(p["c"]);Object(d["a"])([Object(p["d"])("selectedStations")],ut.prototype,"selectedPropertyChanged",null),ut=Object(d["a"])([Object(p["a"])({components:{StationsMap:z,StationCard:Q,TempGraphCard:pt}})],ut);var mt=ut,gt=mt,At=n("7496"),ft=n("40dc"),ht=n("62ad"),vt=n("a523"),bt=n("a75b"),yt=n("0fd9"),xt=Object(w["a"])(gt,r,a,!1,null,null,null),jt=xt.exports;I()(xt,{VApp:At["a"],VAppBar:ft["a"],VBtn:O["a"],VCol:ht["a"],VContainer:vt["a"],VContent:bt["a"],VIcon:R["a"],VRow:yt["a"],VSpacer:B["a"],VToolbarTitle:E["a"]});var St=n("f309");i["a"].use(St["a"]);var kt=new St["a"]({}),wt=(n("4160"),n("c975"),n("a434"),n("159b"),n("2f62"));i["a"].use(wt["a"]);var Ct="https://mooncake.ugent.be/api",It="/stations",Ot="/measurements",Mt=new wt["a"].Store({state:{stationsLoaded:!1,stations:Array(),selectedStations:Array(),liveMeasurements:Array(),historicMeasurements:Array()},mutations:{setStations:function(t,e){t.stations=e},setLiveMeasurements:function(t,e){t.liveMeasurements=e},setHistoricMeasurements:function(t,e){t.historicMeasurements=e},stationsLoaded:function(t){t.stationsLoaded=!0},addSelectedStation:function(t,e){t.selectedStations.includes(e)||t.selectedStations.push(e)},removeSelectedStation:function(t,e){t.selectedStations.splice(t.selectedStations.indexOf(e),1)}},actions:{fetchStations:function(t){var e=t.commit;return fetch(Ct+It).then((function(t){return t.json()})).then((function(t){return e("setStations",t),e("stationsLoaded"),t}))},fetchMeasurements:function(t){var e=t.commit;return fetch(Ct+Ot).then((function(t){return t.json()})).then((function(t){return e("setLiveMeasurements",t),t}))},fetchHistoricMeasurements:function(t){var e=t.commit,n=t.state;return Promise.all(n.selectedStations.map((function(t){return fetch(Ct+Ot+"/"+t.id).then((function(t){return t.json()}))}))).then((function(t){return e("setHistoricMeasurements",t),t}))},selectStationById:function(t,e){var n=t.commit,i=t.state,r=i.stations.find((function(t){return t.id===e}));r&&n("addSelectedStation",r)},deselectStationById:function(t,e){var n=t.commit,i=t.state,r=i.stations.find((function(t){return t.id===e}));r&&n("removeSelectedStation",r)},toggleStationById:function(t,e){var n=t.commit,i=t.state,r=i.stations.find((function(t){return t.id===e}));r&&(i.selectedStations.includes(r)?n("removeSelectedStation",r):n("addSelectedStation",r))}},getters:{tempData:function(t){var e={property:"temp",series:[],timestamps:[]};return t.historicMeasurements.length>0&&(e.timestamps=t.historicMeasurements[0].map((function(t){return t.time})),t.historicMeasurements.forEach((function(t){e.series.push({stationId:t[0].id,values:t.map((function(t){return t.temp}))})}))),e}},modules:{}});i["a"].config.productionTip=!1,new i["a"]({vuetify:kt,store:Mt,render:function(t){return t(jt)}}).$mount("#app")},cef6:function(t,e,n){t.exports=n.p+"img/vlinder29.53578fe5.png"},cff9:function(t,e,n){t.exports=n.p+"img/vlinder12.d9e14856.png"},d219:function(t,e,n){t.exports=n.p+"img/vlinder18.b24e9dc2.png"},daea:function(t,e,n){t.exports=n.p+"img/vlinder48.fc2b6999.png"},de7d:function(t,e,n){t.exports=n.p+"img/vlinder50.e7324658.png"},e19a:function(t,e,n){t.exports=n.p+"img/vlinder27.5d1c46b2.png"},e473:function(t,e,n){t.exports=n.p+"img/vlinder44.5452f970.png"},e96e:function(t,e,n){t.exports=n.p+"img/vlinder10.73755dfe.png"},f422:function(t,e,n){t.exports=n.p+"img/vlinder35.1464418a.png"},f43d:function(t,e,n){t.exports=n.p+"img/vlinder54.0005e760.png"},f6ef:function(t,e,n){t.exports=n.p+"img/vlinder21.148671e7.png"},f799:function(t,e,n){var i={"./vlinder01.png":"ca57","./vlinder02.png":"2f78","./vlinder03.png":"6f2b","./vlinder04.png":"4dae","./vlinder05.png":"49e7","./vlinder06.png":"9694","./vlinder07.png":"62a6","./vlinder08.png":"8bce","./vlinder09.png":"bf34","./vlinder10.png":"e96e","./vlinder11.png":"3170","./vlinder12.png":"cff9","./vlinder13.png":"3745","./vlinder14.png":"2609","./vlinder15.png":"715a","./vlinder16.png":"2c14","./vlinder17.png":"9728","./vlinder18.png":"d219","./vlinder19.png":"2998","./vlinder20.png":"0de9","./vlinder21.png":"f6ef","./vlinder22.png":"a566","./vlinder23.png":"9fbe","./vlinder24.png":"9382","./vlinder25.png":"09a4","./vlinder26.png":"cbe8","./vlinder27.png":"e19a","./vlinder28.png":"36da","./vlinder29.png":"cef6","./vlinder30.png":"6d87","./vlinder31.png":"7727","./vlinder32.png":"4fb0","./vlinder33.png":"64fc","./vlinder34.png":"a7b8","./vlinder35.png":"f422","./vlinder36.png":"2438","./vlinder37.png":"25e8","./vlinder38.png":"3613","./vlinder39.png":"724d","./vlinder40.png":"9698","./vlinder41.png":"c5d0","./vlinder42.png":"05c4","./vlinder43.png":"4a4c","./vlinder44.png":"e473","./vlinder45.png":"292a","./vlinder46.png":"5a80","./vlinder47.png":"87f5","./vlinder48.png":"daea","./vlinder49.png":"69cf","./vlinder50.png":"de7d","./vlinder51.png":"4815","./vlinder52.png":"a7c4","./vlinder53.png":"7eed","./vlinder54.png":"f43d","./vlinder55.png":"58c6","./vlinder56.png":"5003","./vlinder57.png":"095c","./vlinder58.png":"43ae"};function r(t){var e=a(t);return n(e)}function a(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=a,t.exports=r,r.id="f799"}});
//# sourceMappingURL=app.7059316d.js.map